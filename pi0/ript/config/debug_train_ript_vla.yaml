# Debug config for PI0 RIPT training with RIPT-VLA Runner
# ä¸“é—¨æµ‹è¯•æ–°çš„RIPT-VLAå¹¶è¡Œç¯å¢ƒå®ç°

exp_name: pi0_debug_ript_vla_runner

# --- Paths ---
policy_path: "/zhaohan/ZJH/openpi_pytorch/checkpoints/pi0_libero_pytorch"
output_dir: "./pi0/ript/output/debug_ript_vla"
norm_stats_path: "/zhaohan/ZJH/openpi_pytorch/checkpoints/pi0_libero_pytorch/norm_stats.json"

# --- Task and Environment (RIPT-VLAä¼˜åŒ–) ---
task:
  benchmark_name: "libero_goal"
  task_name: "put_the_bowl_on_the_stove"  # ä½¿ç”¨ä»»åŠ¡åç§°è€Œä¸æ˜¯æ•°å­—
  task_names_to_use:
    - "put_the_bowl_on_the_stove"  # ä½¿ç”¨å®é™…å­˜åœ¨çš„ä»»åŠ¡
  
  # ğŸš€ æµ‹è¯•å¹¶è¡Œç¯å¢ƒ
  num_parallel_envs: 2  # 2ä¸ªå¹¶è¡Œç¯å¢ƒæµ‹è¯•
  max_episode_length: 100  # é€‚ä¸­é•¿åº¦

# --- RL Algorithm (é€‚åˆå¹¶è¡Œæµ‹è¯•) ---
algo:
  rloo_batch_size: 2   # åŒ¹é…å¹¶è¡Œç¯å¢ƒæ•°
  num_epochs: 1        # å•epochè°ƒè¯•
  data_batch_size: 2   # åŒ¹é…batch size
  rollouts_per_env: 1  # æ¯ä¸ªç¯å¢ƒ1ä¸ªrolloutæµ‹è¯•
  gradient_accumulation_steps: 1
  lr: 1e-5
  grad_norm_clip: 1.0
  enable_dynamic_sampling: false
  enable_rollout_stats_tracking: false
  use_val_init: false

# --- Training (å¿«é€Ÿè°ƒè¯•) ---
training:
  num_train_steps: 1  # åªåš1æ­¥è®­ç»ƒæµ‹è¯•
  seed: 42
  save_freq: 100
  save_best: false
  use_mixed_precision: false
  optimizer:
    type: "Adam"
    weight_decay: 0.0

# --- Distributed (å•GPU) ---
distributed:
  backend: "nccl"
  gradient_checkpointing: false
  zero_optimization: false
  fp16: false
  bf16: false
  sharded_ddp: false

# --- Logging (è¯¦ç»†è°ƒè¯•) ---
logging:
  use_wandb: false  # ç¦ç”¨wandbä¸“æ³¨è°ƒè¯•
  log_freq: 1
  log_gradients: false

# --- Rollout ---
rollout:
  enabled: false

# --- æ•°æ®åŠ è½½å™¨ ---
train_dataloader:
  batch_size: 2
  num_workers: 1
  pin_memory: true
  drop_last: false

# --- ç¯å¢ƒé…ç½® ---
env:
  use_libero: true
  benchmark_name: "libero_goal"

# --- ğŸš€ Features (å¯ç”¨RIPT-VLA Runner) ---
features:
  # ğŸš€ å¯ç”¨RIPT-VLA Runner - æ–°çš„å¹¶è¡Œç¯å¢ƒå®ç°
  use_ript_vla_runner: true  # âœ… å¯ç”¨æ–°runner
  
  # ä¼ ç»ŸåŠŸèƒ½ï¼ˆå…³é—­ä»¥é¿å…å†²çªï¼‰
  enable_task_polling: false
  enable_parallel_envs: false
  enable_smart_sampling: false
  enable_true_parallel_envs: false

# --- è°ƒè¯•é…ç½® ---
debug:
  save_rollout_videos: true
  verbose_logging: true
  debug_mode: true